# 期末项目

## 描述  
>与其醒来时发现“请勿打扰”标志被忽视，Airbnb的旅行者们却在一个充满奇幻色彩的树屋里与鸟儿一同醒来，或是在一艘水上房屋的甲板上喝着晨间咖啡，或者与房东一起分享一顿地道的早餐。
<br><br>
Airbnb的新用户可以在超过190个国家的34,000多个城市预订住宿。通过准确预测新用户第一次预订旅行体验的地点，Airbnb能够为社区提供更个性化的内容，缩短首次预订的平均时间，并更好地预测需求。
<br><br>
在这场招聘比赛中，Airbnb挑战你预测新用户会在哪个国家进行首次预订。那些提供优秀答案并解释其解决方法的参赛者，将有机会获得Airbnb数据科学与分析团队的面试机会。

这是来自Kaggle的一个九年前的比赛([原链接](https://www.kaggle.com/competitions/airbnb-recruiting-new-user-bookings/overview)),在此为了方便我们搬运一下原文~

## 评估  
本次比赛的评估指标是NDCG（归一化折扣累积增益，Normalized Discounted Cumulative Gain）@k，其中 $k=5$。NDCG的计算方式如下：
$$
DCG_k = \sum_{i=1}^{k} \frac{2^{rel_i} - 1}{\log_2(i + 1)}\\
nDCG_k = \frac{DCG_k}{IDCG_k}
$$
其中 $rel_i$ 是结果在第 $i$ 个位置的相关性。

$IDCG_k$ 是给定查询的最大可能（理想）$DCG$ 值。所有NDCG计算的相对值范围为 $0.0$ 到 $1.0$。

对于每个新用户，您最多可以对首次预订的国家做出5个预测。真实的预订国家被标记为相关性 $= 1$，其他的相关性 $= 0$。

例如，如果某个用户的预订国家是法国（FR），则预测结果如下：

- [ FR ] 的 $NDCG = \frac{2^{1}-1}{\log_2(1+1)} = 1.0$
- [ US, FR ] 的 $DCG = \frac{2^{0}-1}{\log_2(1+1)} + \frac{2^{1}-1}{\log_2(2+1)} = \frac{1}{1.58496} = 0.6309$

## 提交文件  
对于数据集中每个用户，提交文件应包含两列：`id` 和 `country`。目的地国家的预测必须按概率从高到低排序，最有可能的国家放在最前面。

文件应包含一个表头，格式如下：
```
id,country
000am9932b,NDF
000am9932b,US
000am9932b,IT
01wi37r0hw,FR
...
```
每一行代表一个用户的 `id` 和该用户的预测国家，且每个用户可以有多个国家预测。每个用户的所有预测必须紧接在一起。